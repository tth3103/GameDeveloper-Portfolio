{"ast":null,"code":"import React,{useRef,useState}from\"react\";import{styled}from\"styled-components\";import BigMedia from\"./BigMedia\";import{MediaType}from\"../types\";import{Column,Row}from\"../Styles/StyledComponents\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const GameMediaContainer=styled(Column)`\n  align-items: end;\n\n  @media (max-width: 768px) {\n    align-items: center;\n  }\n`;export const LargeMediaWrapper=styled(Row)`\n  width: 100%;\n  height: 320px;\n  justify-content: center;\n  opacity: ${_ref=>{let{$isFading}=_ref;return $isFading?0:1;}};\n  transition: opacity 0.3s ease-in-out;\n`;export const ThumbnailContainer=styled(Row)`\n  width: 100%;\n  gap: 8px;\n  justify-content: center;\n`;export const Thumbnails=styled.div`\n  display: flex;\n  gap: 12px;\n  overflow-x: auto;\n  overflow-y: hidden;\n  max-width: 50%;\n  max-height: 160px;\n  padding: 12px;\n\n  @media (max-width: 1100px) {\n    max-width: 10%;\n  }\n\n  @media (max-width: 768px) {\n    max-width: 100%;\n    padding: 4px;\n    min-height: 0;\n  }\n`;export const ThumbnailWrapper=styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;export const Thumbnail=styled.img`\n  width: 80px;\n  max-height: 120px;\n  min-height: 50px;\n  object-fit: cover;\n  cursor: pointer;\n  border-radius: 5px;\n  border: 3px solid ${_ref2=>{let{$isSelected}=_ref2;return $isSelected?\"#4e9f3d\":\"transparent\";}};\n  transform: ${_ref3=>{let{$isSelected}=_ref3;return $isSelected?\"scale(1.1)\":\"none\";}};\n  transition: transform 0.1s ease-in-out;\n`;export const PlayIcon=styled.button`\n  position: absolute;\n  width: 36px;\n  height: 36px;\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: 50%;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 16px;\n  transition: transform 0.2s ease-in-out;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  &:before {\n    content: \"▶\";\n    font-size: 16px;\n    margin-left: 2px;\n  }\n`;export const Arrow=styled.button`\n  background: rgba(255, 255, 255, 0.3);\n  border: none;\n  padding: 10px;\n  color: black;\n  cursor: pointer;\n  font-size: 20px;\n  border-radius: 50%;\n  transition: background 0.3s ease;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.6);\n  }\n\n  @media (max-width: 768px) {\n    font-size: 16px;\n    width: 30px;\n    height: 30px;\n  }\n`;const getYouTubeThumbnail=url=>{const match=url.match(/(?:youtube\\.com\\/(?:watch\\?v=|embed\\/)|youtu\\.be\\/)([^&?/]+)/);return match&&match[1]?`https://img.youtube.com/vi/${match[1]}/mqdefault.jpg`:\"/fallback-thumbnail.jpg\";};const GameMedia=_ref4=>{let{media}=_ref4;const thumbnailsContainerRef=useRef(null);const thumbnailRefs=useRef([]);const[currentIndex,setCurrentIndex]=useState(0);const[isFading,setIsFading]=useState(false);const updateMediaIndex=newIndex=>{if(newIndex!==currentIndex){setIsFading(true);setTimeout(()=>{setCurrentIndex(newIndex);setIsFading(false);const thumbnail=thumbnailRefs.current[newIndex];thumbnail===null||thumbnail===void 0?void 0:thumbnail.scrollIntoView({behavior:'smooth',block:'nearest'});},150);}};const handleThumbnailClick=index=>updateMediaIndex(index);const nextMedia=()=>updateMediaIndex((currentIndex+1)%media.length);const prevMedia=()=>updateMediaIndex((currentIndex-1+media.length)%media.length);return/*#__PURE__*/_jsxs(GameMediaContainer,{children:[/*#__PURE__*/_jsx(LargeMediaWrapper,{$isFading:isFading,children:/*#__PURE__*/_jsx(BigMedia,{source:media[currentIndex].source,type:media[currentIndex].type})}),/*#__PURE__*/_jsxs(ThumbnailContainer,{children:[/*#__PURE__*/_jsx(Arrow,{onClick:prevMedia,children:\"\\u25C0\\xA0\"}),/*#__PURE__*/_jsx(Thumbnails,{ref:thumbnailsContainerRef,children:media.map((item,index)=>{const isYouTubeVideo=item.type===MediaType.YouTube;const thumbnailSrc=isYouTubeVideo?getYouTubeThumbnail(item.source):`${process.env.PUBLIC_URL}${item.source}`;return/*#__PURE__*/_jsxs(ThumbnailWrapper,{children:[/*#__PURE__*/_jsx(Thumbnail,{id:`thumbnail${index}`,ref:el=>thumbnailRefs.current[index]=el,src:thumbnailSrc,$isSelected:index===currentIndex,onClick:()=>handleThumbnailClick(index)}),isYouTubeVideo&&/*#__PURE__*/_jsx(PlayIcon,{onClick:()=>handleThumbnailClick(index)})]},index);})}),/*#__PURE__*/_jsx(Arrow,{onClick:nextMedia,children:\"\\xA0\\u25B6\"})]})]});};export default GameMedia;","map":{"version":3,"names":["React","useRef","useState","styled","BigMedia","MediaType","Column","Row","jsx","_jsx","jsxs","_jsxs","GameMediaContainer","LargeMediaWrapper","_ref","$isFading","ThumbnailContainer","Thumbnails","div","ThumbnailWrapper","Thumbnail","img","_ref2","$isSelected","_ref3","PlayIcon","button","Arrow","getYouTubeThumbnail","url","match","GameMedia","_ref4","media","thumbnailsContainerRef","thumbnailRefs","currentIndex","setCurrentIndex","isFading","setIsFading","updateMediaIndex","newIndex","setTimeout","thumbnail","current","scrollIntoView","behavior","block","handleThumbnailClick","index","nextMedia","length","prevMedia","children","source","type","onClick","ref","map","item","isYouTubeVideo","YouTube","thumbnailSrc","process","env","PUBLIC_URL","id","el","src"],"sources":["C:/Users/PC/Downloads/portfolio/GameDeveloper-Portfolio/src/Components/GameMedia.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { styled } from \"styled-components\";\r\nimport BigMedia from \"./BigMedia\";\r\nimport { MediaItem, MediaType } from \"../types\";\r\nimport { Column, Row } from \"../Styles/StyledComponents\";\r\n\r\n\r\nexport const GameMediaContainer = styled(Column)`\r\n  align-items: end;\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const LargeMediaWrapper = styled(Row) <{ $isFading: boolean }>`\r\n  width: 100%;\r\n  height: 320px;\r\n  justify-content: center;\r\n  opacity: ${({ $isFading }) => ($isFading ? 0 : 1)};\r\n  transition: opacity 0.3s ease-in-out;\r\n`;\r\n\r\nexport const ThumbnailContainer = styled(Row)`\r\n  width: 100%;\r\n  gap: 8px;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Thumbnails = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  max-width: 50%;\r\n  max-height: 160px;\r\n  padding: 12px;\r\n\r\n  @media (max-width: 1100px) {\r\n    max-width: 10%;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    max-width: 100%;\r\n    padding: 4px;\r\n    min-height: 0;\r\n  }\r\n`;\r\n\r\nexport const ThumbnailWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Thumbnail = styled.img<{ $isSelected: boolean }>`\r\n  width: 80px;\r\n  max-height: 120px;\r\n  min-height: 50px;\r\n  object-fit: cover;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  border: 3px solid ${({ $isSelected }) => ($isSelected ? \"#4e9f3d\" : \"transparent\")};\r\n  transform: ${({ $isSelected }) => ($isSelected ? \"scale(1.1)\" : \"none\")};\r\n  transition: transform 0.1s ease-in-out;\r\n`;\r\n\r\nexport const PlayIcon = styled.button`\r\n  position: absolute;\r\n  width: 36px;\r\n  height: 36px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  border-radius: 50%;\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 16px;\r\n  transition: transform 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    transform: scale(1.2);\r\n  }\r\n\r\n  &:before {\r\n    content: \"▶\";\r\n    font-size: 16px;\r\n    margin-left: 2px;\r\n  }\r\n`;\r\n\r\nexport const Arrow = styled.button`\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border: none;\r\n  padding: 10px;\r\n  color: black;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  border-radius: 50%;\r\n  transition: background 0.3s ease;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.6);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 16px;\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n`;\r\n\r\ntype GameMediaProps = {\r\n  media: MediaItem[];\r\n};\r\n\r\nconst getYouTubeThumbnail = (url: string) => {\r\n  const match = url.match(/(?:youtube\\.com\\/(?:watch\\?v=|embed\\/)|youtu\\.be\\/)([^&?/]+)/);\r\n  return match && match[1]\r\n    ? `https://img.youtube.com/vi/${match[1]}/mqdefault.jpg`\r\n    : \"/fallback-thumbnail.jpg\";\r\n};\r\n\r\nconst GameMedia: React.FC<GameMediaProps> = ({ media }) => {\r\n  const thumbnailsContainerRef = useRef<HTMLDivElement | null>(null);\r\n  const thumbnailRefs = useRef<(HTMLImageElement | null)[]>([]);\r\n\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isFading, setIsFading] = useState(false);\r\n\r\n  const updateMediaIndex = (newIndex: number) => {\r\n    if (newIndex !== currentIndex) {\r\n      setIsFading(true);\r\n      setTimeout(() => {\r\n        setCurrentIndex(newIndex);\r\n        setIsFading(false);\r\n        const thumbnail = thumbnailRefs.current[newIndex];\r\n        thumbnail?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n\r\n      }, 150);\r\n    }\r\n  };\r\n\r\n  const handleThumbnailClick = (index: number) => updateMediaIndex(index);\r\n  const nextMedia = () => updateMediaIndex((currentIndex + 1) % media.length);\r\n  const prevMedia = () => updateMediaIndex((currentIndex - 1 + media.length) % media.length);\r\n\r\n\r\n  return (\r\n    <GameMediaContainer>\r\n      <LargeMediaWrapper $isFading={isFading}>\r\n        <BigMedia source={media[currentIndex].source} type={media[currentIndex].type} />\r\n      </LargeMediaWrapper>\r\n\r\n      <ThumbnailContainer>\r\n        <Arrow onClick={prevMedia}>◀&nbsp;</Arrow>\r\n        <Thumbnails ref={thumbnailsContainerRef}>\r\n          {media.map((item, index) => {\r\n            const isYouTubeVideo = item.type === MediaType.YouTube;\r\n            const thumbnailSrc = isYouTubeVideo ? getYouTubeThumbnail(item.source) : `${process.env.PUBLIC_URL}${item.source}`;\r\n\r\n            return (\r\n              <ThumbnailWrapper key={index}>\r\n                <Thumbnail\r\n                  id={`thumbnail${index}`}\r\n                  ref={(el) => (thumbnailRefs.current[index] = el)}\r\n                  src={thumbnailSrc}\r\n                  $isSelected={index === currentIndex}\r\n                  onClick={() => handleThumbnailClick(index)}\r\n                />\r\n                {isYouTubeVideo && <PlayIcon onClick={() => handleThumbnailClick(index)} />}\r\n              </ThumbnailWrapper>\r\n            );\r\n          })}\r\n\r\n        </Thumbnails>\r\n        <Arrow onClick={nextMedia}>&nbsp;▶</Arrow>\r\n      </ThumbnailContainer>\r\n    </GameMediaContainer>\r\n  );\r\n};\r\n\r\nexport default GameMedia;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,MAAM,KAAQ,mBAAmB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAAoBC,SAAS,KAAQ,UAAU,CAC/C,OAASC,MAAM,CAAEC,GAAG,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGzD,MAAO,MAAM,CAAAC,kBAAkB,CAAGT,MAAM,CAACG,MAAM,CAAC;AAChD;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,MAAO,MAAM,CAAAO,iBAAiB,CAAGV,MAAM,CAACI,GAAG,CAA0B;AACrE;AACA;AACA;AACA,aAAaO,IAAA,MAAC,CAAEC,SAAU,CAAC,CAAAD,IAAA,OAAM,CAAAC,SAAS,CAAG,CAAC,CAAG,CAAC,EAAC;AACnD;AACA,CAAC,CAED,MAAO,MAAM,CAAAC,kBAAkB,CAAGb,MAAM,CAACI,GAAG,CAAC;AAC7C;AACA;AACA;AACA,CAAC,CAED,MAAO,MAAM,CAAAU,UAAU,CAAGd,MAAM,CAACe,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,MAAO,MAAM,CAAAC,gBAAgB,CAAGhB,MAAM,CAACe,GAAG;AAC1C;AACA;AACA;AACA;AACA,CAAC,CAED,MAAO,MAAM,CAAAE,SAAS,CAAGjB,MAAM,CAACkB,GAA6B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsBC,KAAA,MAAC,CAAEC,WAAY,CAAC,CAAAD,KAAA,OAAM,CAAAC,WAAW,CAAG,SAAS,CAAG,aAAa,EAAC;AACpF,eAAeC,KAAA,MAAC,CAAED,WAAY,CAAC,CAAAC,KAAA,OAAM,CAAAD,WAAW,CAAG,YAAY,CAAG,MAAM,EAAC;AACzE;AACA,CAAC,CAED,MAAO,MAAM,CAAAE,QAAQ,CAAGtB,MAAM,CAACuB,MAAM;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,MAAO,MAAM,CAAAC,KAAK,CAAGxB,MAAM,CAACuB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAMD,KAAM,CAAAE,mBAAmB,CAAIC,GAAW,EAAK,CAC3C,KAAM,CAAAC,KAAK,CAAGD,GAAG,CAACC,KAAK,CAAC,8DAA8D,CAAC,CACvF,MAAO,CAAAA,KAAK,EAAIA,KAAK,CAAC,CAAC,CAAC,CACpB,8BAA8BA,KAAK,CAAC,CAAC,CAAC,gBAAgB,CACtD,yBAAyB,CAC/B,CAAC,CAED,KAAM,CAAAC,SAAmC,CAAGC,KAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,KAAA,CACpD,KAAM,CAAAE,sBAAsB,CAAGjC,MAAM,CAAwB,IAAI,CAAC,CAClE,KAAM,CAAAkC,aAAa,CAAGlC,MAAM,CAA8B,EAAE,CAAC,CAE7D,KAAM,CAACmC,YAAY,CAAEC,eAAe,CAAC,CAAGnC,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACoC,QAAQ,CAAEC,WAAW,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAAsC,gBAAgB,CAAIC,QAAgB,EAAK,CAC7C,GAAIA,QAAQ,GAAKL,YAAY,CAAE,CAC7BG,WAAW,CAAC,IAAI,CAAC,CACjBG,UAAU,CAAC,IAAM,CACfL,eAAe,CAACI,QAAQ,CAAC,CACzBF,WAAW,CAAC,KAAK,CAAC,CAClB,KAAM,CAAAI,SAAS,CAAGR,aAAa,CAACS,OAAO,CAACH,QAAQ,CAAC,CACjDE,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEE,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAU,CAAC,CAAC,CAErE,CAAC,CAAE,GAAG,CAAC,CACT,CACF,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIC,KAAa,EAAKT,gBAAgB,CAACS,KAAK,CAAC,CACvE,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAMV,gBAAgB,CAAC,CAACJ,YAAY,CAAG,CAAC,EAAIH,KAAK,CAACkB,MAAM,CAAC,CAC3E,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAMZ,gBAAgB,CAAC,CAACJ,YAAY,CAAG,CAAC,CAAGH,KAAK,CAACkB,MAAM,EAAIlB,KAAK,CAACkB,MAAM,CAAC,CAG1F,mBACExC,KAAA,CAACC,kBAAkB,EAAAyC,QAAA,eACjB5C,IAAA,CAACI,iBAAiB,EAACE,SAAS,CAAEuB,QAAS,CAAAe,QAAA,cACrC5C,IAAA,CAACL,QAAQ,EAACkD,MAAM,CAAErB,KAAK,CAACG,YAAY,CAAC,CAACkB,MAAO,CAACC,IAAI,CAAEtB,KAAK,CAACG,YAAY,CAAC,CAACmB,IAAK,CAAE,CAAC,CAC/D,CAAC,cAEpB5C,KAAA,CAACK,kBAAkB,EAAAqC,QAAA,eACjB5C,IAAA,CAACkB,KAAK,EAAC6B,OAAO,CAAEJ,SAAU,CAAAC,QAAA,CAAC,YAAO,CAAO,CAAC,cAC1C5C,IAAA,CAACQ,UAAU,EAACwC,GAAG,CAAEvB,sBAAuB,CAAAmB,QAAA,CACrCpB,KAAK,CAACyB,GAAG,CAAC,CAACC,IAAI,CAAEV,KAAK,GAAK,CAC1B,KAAM,CAAAW,cAAc,CAAGD,IAAI,CAACJ,IAAI,GAAKlD,SAAS,CAACwD,OAAO,CACtD,KAAM,CAAAC,YAAY,CAAGF,cAAc,CAAGhC,mBAAmB,CAAC+B,IAAI,CAACL,MAAM,CAAC,CAAG,GAAGS,OAAO,CAACC,GAAG,CAACC,UAAU,GAAGN,IAAI,CAACL,MAAM,EAAE,CAElH,mBACE3C,KAAA,CAACQ,gBAAgB,EAAAkC,QAAA,eACf5C,IAAA,CAACW,SAAS,EACR8C,EAAE,CAAE,YAAYjB,KAAK,EAAG,CACxBQ,GAAG,CAAGU,EAAE,EAAMhC,aAAa,CAACS,OAAO,CAACK,KAAK,CAAC,CAAGkB,EAAI,CACjDC,GAAG,CAAEN,YAAa,CAClBvC,WAAW,CAAE0B,KAAK,GAAKb,YAAa,CACpCoB,OAAO,CAAEA,CAAA,GAAMR,oBAAoB,CAACC,KAAK,CAAE,CAC5C,CAAC,CACDW,cAAc,eAAInD,IAAA,CAACgB,QAAQ,EAAC+B,OAAO,CAAEA,CAAA,GAAMR,oBAAoB,CAACC,KAAK,CAAE,CAAE,CAAC,GARtDA,KASL,CAAC,CAEvB,CAAC,CAAC,CAEQ,CAAC,cACbxC,IAAA,CAACkB,KAAK,EAAC6B,OAAO,CAAEN,SAAU,CAAAG,QAAA,CAAC,YAAO,CAAO,CAAC,EACxB,CAAC,EACH,CAAC,CAEzB,CAAC,CAED,cAAe,CAAAtB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}